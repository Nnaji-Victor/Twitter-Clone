{"ast":null,"code":"import _defineProperty from\"/home/tanisk/twitter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/tanisk/twitter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/tanisk/twitter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import'../Css/Signup.css';import{Link}from'react-router-dom';import AuthContext from'../Context/Authorization/authContext';import AlertContext from'../Context/Alert/alertContext';import{useLocation}from'react-router-dom';import Alerts from'../Extra/Alerts';function Signup(props){var authContext=useContext(AuthContext);var alertContext=useContext(AlertContext);var setAlert=alertContext.setAlert;var register=authContext.register,error=authContext.error,isAuthenticated=authContext.isAuthenticated;var location=useLocation();var _ref=location||{state:{pathname:'/'}},state=_ref.state;useEffect(function(){if(isAuthenticated){props.history.push(state);}if(error==='User already exists'){setAlert('Email Has Already Been Taken','danger');}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({name:'',email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name=user.name,email=user.email,password=user.password;var onChange=function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));console.log(e.target.value);};var onSubmit=function onSubmit(e){e.preventDefault();console.log('Register Submitted');if(name===''||email===''||password===''){setAlert(\"Oh snap, Fields Can't be empty\",'danger');}else if(password.length<8){setAlert('Oh snap, Password is less then 8 Characters','danger');}else{console.log('register -> ',state,location);register({name:name,email:email,password:password},{history:props.history,state:state});}};return/*#__PURE__*/React.createElement(\"section\",{className:\"login-page\"},/*#__PURE__*/React.createElement(\"nav\",{className:\"login-page-nav\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"brand\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},\" Home\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/\"},\"About\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/\"},\"Language: English\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-content\"},/*#__PURE__*/React.createElement(\"h2\",null,\" Signup to Twitter   \",/*#__PURE__*/React.createElement(\"i\",{style:{color:'#37A1F5'},class:\"fab fa-twitter\"}),\"   \"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit,className:\"login-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",value:name,onChange:onChange,required:true,placeholder:\"Full Name\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange,required:true,placeholder:\"Phone or email\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,required:true,placeholder:\"Password\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",value:\"signup\",className:\"login-form-btn\"},\"signup\"),/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"login-form-checkbox\",id:\"check\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"check\"},\"Remember me\")))),/*#__PURE__*/React.createElement(\"footer\",{className:\"login-footer\"},/*#__PURE__*/React.createElement(\"div\",{style:{marginRight:'20px'}},\" \",/*#__PURE__*/React.createElement(Alerts,null),\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Already Registered? \",/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"Log in now\")))));}export default Signup;","map":{"version":3,"sources":["/home/tanisk/twitter/client/src/Component/User/Signup.js"],"names":["React","useContext","useEffect","useState","Link","AuthContext","AlertContext","useLocation","Alerts","Signup","props","authContext","alertContext","setAlert","register","error","isAuthenticated","location","state","pathname","history","push","name","email","password","user","setUser","onChange","e","target","value","console","log","onSubmit","preventDefault","length","color","marginRight"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport '../Css/Signup.css'\nimport { Link } from 'react-router-dom'\nimport AuthContext from '../Context/Authorization/authContext'\nimport AlertContext from '../Context/Alert/alertContext'\nimport { useLocation } from 'react-router-dom'\nimport Alerts from '../Extra/Alerts'\n\n\n\nfunction Signup(props) {\n    const authContext = useContext(AuthContext)\n    const alertContext = useContext(AlertContext)\n\n    const { setAlert } = alertContext;\n    const { register, error, isAuthenticated } = authContext;\n\n    let location = useLocation();\n    const { state } = location || { state: { pathname: '/' } }\n\n\n    useEffect(() => {\n        if (isAuthenticated) {\n            props.history.push(state)\n        }\n        if (error === 'User already exists') {\n            setAlert('Email Has Already Been Taken', 'danger')\n        }\n        // eslint-disable-next-line\n    }, [error, isAuthenticated, props.history])\n\n    const [user, setUser] = useState({\n        name: '',\n        email: '',\n        password: ''\n    })\n\n    const { name, email, password } = user;\n\n    const onChange = (e) => {\n        setUser({ ...user, [e.target.name]: e.target.value })\n        console.log(e.target.value)\n    }\n\n\n\n    const onSubmit = (e) => {\n        e.preventDefault()\n\n        console.log('Register Submitted')\n\n        if (name === '' || email === '' || password === '') {\n            setAlert(\"Oh snap, Fields Can't be empty\", 'danger')\n        } else if (password.length < 8) {\n            setAlert('Oh snap, Password is less then 8 Characters', 'danger')\n        } else {\n            console.log('register -> ', state, location)\n            register({\n                name,\n                email,\n                password,\n            }, { history: props.history, state })\n        }\n    }\n    return (\n\n        <section className=\"login-page\">\n\n            {/* login page nav */}\n            <nav className=\"login-page-nav\">\n\n                <ul>\n                    <li className=\"brand\">\n                        <Link to=\"/\"> Home</Link>\n                    </li>\n                    <li><a href=\"/\">About</a></li>\n                    <li><a href=\"/\">Language: English</a></li>\n                </ul>\n            </nav>\n\n            {/* end of login page nav */}\n            {/* login */}\n            <div className=\"login\">\n\n                <div className=\"login-content\">\n\n\n                    <h2> Signup to Twitter   <i style={{ color: '#37A1F5', }} class=\"fab fa-twitter\"></i>   </h2>\n\n\n                    <form onSubmit={onSubmit} className=\"login-form\">\n\n                        <input\n                            type=\"text\"\n                            name='name'\n                            value={name}\n                            onChange={onChange}\n                            required\n                            placeholder=\"Full Name\" />\n\n                        <input\n                            type=\"email\"\n                            name='email'\n                            value={email}\n                            onChange={onChange}\n                            required\n                            placeholder=\"Phone or email\" />\n\n                        <input\n                            type=\"password\"\n                            name='password'\n                            value={password}\n                            onChange={onChange}\n                            required\n                            placeholder=\"Password\" />\n\n                        <div>\n                            <button type=\"submit\" value=\"signup\" className=\"login-form-btn\">signup</button>\n\n                            <input type=\"checkbox\" className=\"login-form-checkbox\" id=\"check\" />\n                            <label htmlFor=\"check\">Remember me</label>\n                            {/* <a href=\"/\">Forgot password?</a> */}\n                        </div>\n\n                    </form>\n\n                </div>\n                <footer className=\"login-footer\">\n                    <div style={{ marginRight: '20px' }}> <Alerts /> </div>\n                    <p>Already Registered? <Link to=\"/login\">Log in now</Link></p>\n                    {/* <p>\n                        Already using Twirrer via text message?\n              <a href=\"/\">Activate your account</a>\n                    </p> */}\n                </footer>\n            </div>\n            {/* end of login */}\n        </section>\n\n    )\n}\n\nexport default Signup\n"]},"metadata":{},"sourceType":"module"}